# Инструкция по работе с Git

Подразумевается, что у вас установлена какая-либо программа - редактор исходного кода. Например, `Visual Studio Code`, можно перейти по ссылке: [https://code.visualstudio.com/download](https://code.visualstudio.com/download), выбрать версию для своей ОС, скачать и установить на компьютер.

![Загрузка VSC](DownloadVSC.jpg)

*P.S. Желательно установить программу редактор до установки самого Git, поскольку при его установке необходимо будет указать определённый редактор.*

## 1. Начало работы
___

* Создаём на рабочем столе компьютера *Новую папку* и именуем её как душе угодно, это никак не повлияет на дальнейшую работу.

* Запускаем программу Редактор исходного кода. Например, VS Code.

* С помощью Проводника (левый верхний угол окна программы) выбираем функцию *Открыть папку* и выбираем нашу только что созданную *Новую папку*, она пуста.

* Далее во вкладке *Меню* - *Вид* выбираем пункт `Терминал` и запускаем его, откроется соответсвующее окно.


## 2. Проверка наличия установленного Git
___

Для проверки, необходимо в терминале Вашего редактора кода, выполнить команду: `git --version`

Если Git установлен правильно, появится сообщение с информацией о версии программы. В противном случае - сообщение об ошибке.

### 2.1 Установка Git

* Загружаем последнюю версию Git с сайта: [https://git-scm.com/download](https://git-scm.com/download), выбираем в зависимости от своей ОС.

![Загрузка Git](DownloadGit.jpg)

* Устанавливаем с настройками по умолчанию;

## 3. Настройка Git
___

### 3.1 При первом использовании Git необходимо "представиться" системе. Для этого нужно ввести в терминале 2 команды:

* git config --global user.name «Ваше имя англ буквами»

* git config --global user.email ваша_почта@example.com

Иначе Git попросту не даст Вам создать первывый commit и спросит *Кто ты такой?*

### 3.2 Инициализация Репозитория 

Для того чтобы Git начал отслеживать все изменения, происходящие в выбранной папке, необходимо инициализировать его вводом в терминале команды:
```
git init
```

После чего на экране терминала выводится некое сообщение, инициализация репозитория успешно выполнена.

### 3.3 Проверка Репозитория

Увидеть состояние рабочего каталога и раздела проиндексированных файлов, а так же проверить индексацию изменений и увидеть файлы, которые не отслеживаются Git можно с помощью ввода команды:
```
git status
```

## 4. Работа с Git
___

### 4.1 Создание нового файла

В проводнике Редактора, в Вашей созданной *Новой папке* необходимо создать новый файл - указать имя и расширение.

### 4.2 Включение нового файла в отслежавание

**Для того чтобы Git начал отслеживать изменения в новом файле, необходимо:**

После создания нового файла, откроется окно для ввода данных, можно начинать вносить в него информацию. 

После внесения в файл новой информации, необходимо **_обязательно_** сохранить изменения, нажав сочетание клавиш, например, ```ctrl+S```.

Далее необходимо в окне терминала ввести команду:
```
git add <имя файла>
```
(если никаких сообщений об ошибках нет, значит всё прошло успешно)

и выполнить фиксацию (commit).

### 4.2.1 Игнорирование файлов

Для того, чтобы исключить из отслеживания репозитория определённые файлы или папки, необходимо создать там файл *.gitignore* и записать в него их названия или шаблоны, соответствующие таким файлам или папкам.

После чего также сохранить изменения в этом файле, выполнить `git add .gitignore`, и выполнить фиксацию (commit).

### 4.3 Фиксация изменений

Для этого необходимо ввести в окне терминала команду:
```
git commit -m "Краткий комментарий о вносимых изменениях в файле"
```
Данная команда выполняет *снимок* текущего состояния файла, которому будет автоматически присвоен *уникальный номер*, а комментарий в кавычках упростит навигацию в общем списке коммитов для последующего удобства работы с логом файла.

### 4.4 Последующие вненения изменеий и их фиксация

После каждого очередного внесения изменений в файл, для фиксации изменений необходимо:

* сохранять изменения в файле: `ctrl+S`
* вводить в терминале команду и указывать имя файла, в который изменения вносятся: `git add <имя файла>`
* выполнять коммит и указывать коммнтарий: `git commit -m "Комментарий"`

В данном случае команда `git add <имя файла>` сообщает Git, что Вы хотите включить изменения в конкретном файле в следующий коммит.

### 4.5 Сравнение изменений

Для выполнения команды сравнения необходимо ввести в терминале команду:
```
git diff
```
Это функция, анализирующая два входных набора данных и отображающая различия между ними.

Если ввести данную команду сразу после выполнения очередного коммита, то она ничего не отобразит, поскольку изменения в файле только что сохранены, а новых данных внесено не было.

Но если внести в файл новые данные и нажать `ctrl+S`, сохранив тем самым изменения а затем ввести команду `git diff`, то она отобразит все новые данные относительно прошлого коммита.

### 4.6 Просмотр истории коммитов

* Для просмотра истории коммитов необходимо ввести в окне терминала комаду:
```
git log
```
В окне терминала отобразится полный список коммитов с указанием их индивидуальных номеров, а также автора, даты создания и комментария.

Это позволяет просматирвать всю историю изменения файла и искать в ней конкретные изменения.

* Также можно пользоваться командой:
```
git log --oneline
```
oneline - означает "в одну линию". То есть отобразится весь список коммитов в сокращенном виде - только 7 знаков номера коммита и комментарий (без отображения авторства, даты и времени).

* При работе с ветками, нагляднее пользоваться следующей комадой:
```
git log --graph
```
Поскольку она добавляет некую графическую визуализацию ответвлений с обозначением коммитов, выполненных в них. Информация в виде номера, авторства и даты указывается полностью.

* Для более компактного отображения, нужно вводить команду:
```
git log --graph --oneline
```
Вы получите такую же наглядную визуализацию древа коммитов, но в сокращенном виде без указания авторства, даты и времени

* Если нет необходимости отображать полный список, а интересует увидеть определённое количество последних коммитов, например 5, то к вышеукаанному варианту нужно просто дописать "-5":
```
git log --graph --oneline -5
```

### 4.7 Переход между коммитами

Данная команда может пригодиться, например, в случае когда нужная информация была по какой-то причине удалена в процессе оформления файла и после этого изменения были сохранены, и созданы последующие коммиты.

Допустим, Вы точно знаете в каком коммите необходимая информация ещё присутствовала, тогда с помощью комады `git log` можно перейти к полному списку коммитов, найти номер требуемого коммита, а далее, введя в терминале команду:
```
git checkout <первые 4-6 цифр номера нужного коммита>
```
Вы перейдёте к состоянию файла на момент сохранения указанного коммита.

**ВАЖНО!**

После перемещения между коммитами, перед продолжением редактирования файла, __*ОБЯЗАТЕЛЬНО*__ необходимо выполнить возврат в актуальное состояние. Для этого нужно ввести в окне терминала команду: `git checkout master`.

### 4.8 Работа с ветками

В переводе на английский Ветка - это *Branch*.

При создани нового файла, по умолчанию, вся работа происходит в ветке `master`.

Для того чтобы вывести на экран полный список веток, созданных в файле, необходимо в терминале ввести команду:
```
git branch
```

### 4.8.1 Создание

+ Для создания новой ветки, необходимо, находясь в ветке __*master*__, ввести в терминале команду:
```
git branch <имя_новой_ветки>
```

Если команда введена правильно, git не выдаст ошибок, в противном случае, следует воспользоваться подсказками, которые git любезно предоставляет.

+ Для того чтобы удостовериться, что ветка создана, можно вызвать список веток командой `git branch`, новая ветка должна отобразиться в списке.

+ Имя ветки, на которой Вы в данный момент располагаетесь, выделено зелёным цветом в списке веток и рядом с именем находится указатель - символ "звёздочка" (*).

+ Переход между ветками осуществяется вводом в терминал уже знакомой Вам команды `git checkout`, как и в случае перехода между коммитами, тоько вместо номера коммита нужно указать имя ветки на которую необходимо выполнить переход:
```
git checkout <имя_ветки>
```

+ Для того чтобы создать новую ветку и сразу на неё перейти, необходимо ввести в терминале команду:

```
git checkout -b <имя_новой_ветки>
```

P.S.: После внесения информации в новой ветке, следует провести стандартную процедуру сохранения изменений и написания коммита:
`ctrl+s; git add <имя файла>; git commit -m "Комментарий"`.

### 4.8.2 Слияние

Слияние веток выполняется командой:

```
git merge <имя_ветки>
```

**ВАЖНО:**

*Данную команду необходимо вводить в терминале, находясь в ветке **master**, поскольку именно она является основной, несущей в себе всю структуру файла, включая полную историю предыдущих коммитов!*

После ввода данной команды будет осуществлён перенос информации из указанной ветки в ветку master, а так же проверка на наличие `конфликтов` между содержимым обеих версий.

### 4.8.3 Разрешение конфликтов

После выполнения команды слияния веток, при обнаружении конфликта, Git проинформирует Вас об этом в окне терминала, а в окне редактора, для наглядности, подсветит фон текста обеих версий различными цветами.

Это значит, что Git не может самостоятельно решить какую версию использовать и предложит выбрать самостоятельно. Например, в редакторе `Visual Studio Code` есть следующие варианты:

* Accept Current Change - Принять текущую версию (ветка master);
* Accept Incoming Change - Принять ту версию, которая пришла из другой ветки;
* Accept Both Changes - Принять обе версии;
* Compare Changes - Сравнить версии.

После разрешения конфликта, следует выполнить стандартную процедуру сохранения изменений и выполнения коммита.

### 4.8.4 Удаление

Если, по какой-то причине, какая-либо из созданых веток Вам больше не нужна (информация из неё перенесена и сохранена в ветке master), её можно смело удалить вводмом в терминале следующей команды:

```
git branch -d <имя-ветки>
```

Буква "d" в данной команде - есть ничто иное, как сокращение от слова delete (удалить).

После ввода данной команды, можно убедиться в её выполнении, вызвав список существующих веток знакомой командой: `git branch.` Ветка, имя которой было прописано в команде на удаление, соответственно, должно будет отсутствовать в списке.